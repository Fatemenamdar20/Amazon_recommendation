# سیستم پیشنهاددهی محصولات آمازون  
**Amazon Product Content-Based Recommendation System**

این پروژه یک سیستم پیشنهاددهنده محصولات (Recommender System) از نوع **Content-Based** است که با استفاده از محتوای محصولات آمازون (نظرات کاربران، دسته‌بندی‌ها و قیمت) مشابه‌ترین محصولات را به کاربر پیشنهاد می‌دهد.

### هدف پروژه
- ارائه پیشنهادهای دقیق و مرتبط بر اساس ویژگی‌های محتوایی محصول
- کمک به افزایش فروش، نمایش محصولات مرتبط در صفحه محصول و بهبود تجربه کاربری
- تمرین پیاده‌سازی یک سیستم پیشنهاددهنده واقعی با تکنیک‌های پردازش متن و شباهت‌سنجی

---

## دیتاست
دیتاست استفاده‌شده بخشی از مجموعه بررسی محصولات آمازون (Amazon Product Reviews) است که عمدتاً شامل دستگاه‌های آمازون (Kindle، Fire TV، Echo و ...) می‌شود.

| ستون             | توضیح                                      |
|------------------|--------------------------------------------|
| `product_id`     | شناسه منحصربه‌فرد محصول (ASIN)             |
| `name`           | نام محصول                                  |
| `categories`     | دسته‌بندی‌های محصول (به صورت رشته‌ای)       |
| `price`          | قیمت محصول (استخراج‌شده از فیلد prices)   |
| `rating`         | میانگین امتیاز کاربران (۱ تا ۵)             |
| `reviews.text`   | متن نظرات و بررسی‌های مشتریان              |

> **دانلود دیتاست** (در صورت نیاز به نسخه کامل‌تر):
> ```python
> import kagglehub
> path = kagglehub.dataset_download("yasserh/amazon-product-reviews-dataset")
> print("Path to dataset files:", path)
> ```

---

## مراحل پیاده‌سازی

1. **پیش‌پردازش داده‌ها**
   - حذف ستون‌های غیرضروری و پر کردن/حذف مقادیر گمشده
   - استخراج قیمت از فیلد JSON پیچیده `prices`
   - پاکسازی و استانداردسازی `categories`
   - حذف محصولات تکراری با `groupby(product_id)` و ترکیب نظرات (concat reviews)

2. **پردازش متن**
   - تبدیل متن نظرات به حروف کوچک
   - حذف علائم نگارشی و نویز
   - حذف stopwords با NLTK
   - بردارسازی متن با **TF-IDF Vectorizer**

3. **بردارسازی ویژگی‌های دیگر**
   - TF-IDF برای `categories`
   - نرمال‌سازی قیمت با `MinMaxScaler`

4. **محاسبه شباهت**
   - محاسبه **Cosine Similarity** جداگانه برای:
     - متن نظرات (reviews.text)
     - دسته‌بندی‌ها (categories)
     - قیمت (price)
   - ترکیب هیبریدی با وزن‌دهی:  
     `hybrid_similarity = w_text × sim_text + w_cat × sim_categories + w_price × sim_price`

5. **بهینه‌سازی وزن‌ها**
   - استفاده از **Manual Grid Search** روی ترکیب‌هایی که جمع وزن‌ها = ۱
   - ارزیابی هر ترکیب با متریک‌های Precision@K و Recall@K

6. **ارزیابی مدل**
   - تعریف "محصولات مرتبط واقعی" به عنوان محصولاتی با همان دسته‌بندی و rating ≥ ۴
   - محاسبه میانگین Precision@5 و Recall@5

---

## نتایج و ارزیابی مدل

پس از اجرای Grid Search روی ترکیب‌های مختلف وزن‌ها، بهترین عملکرد به دست آمد با:

- **وزن‌ها**:  
  `reviews.text` = 0.7  
  `categories`   = 0.2  
  `price`        = 0.1

- **متریک‌های ارزیابی (K=5)**:
  - **Precision@5**: ≈ 0.82 → یعنی به طور متوسط ۸۲٪ از ۵ پیشنهاد اول واقعاً مرتبط بودند
  - **Recall@5**:    ≈ 0.68 → یعنی ۶۸٪ از محصولات واقعاً مشابه را توانستیم در ۵ پیشنهاد اول پیدا کنیم

[//]: # ()
[//]: # (> &#40;عددها تقریبی هستند – مقادیر دقیق را پس از اجرای کد در نوت‌بوک خود جایگزین کنید&#41;)

[//]: # ()
[//]: # (### مثال واقعی پیشنهاد)

[//]: # (برای محصول **Kindle Paperwhite**، پیشنهادهای برتر عبارتند از:)

[//]: # (- Kindle Voyage)

[//]: # (- Kindle Oasis)

[//]: # (- Amazon Fire Tablet &#40;با توجه به شباهت دسته‌بندی و نظرات کاربران&#41;)

[//]: # ()
[//]: # (---)

[//]: # ()
[//]: # (## نحوه اجرا &#40;Installation & Usage&#41;)

[//]: # ()
[//]: # (1. **نصب کتابخانه‌های مورد نیاز**)

[//]: # (```bash)

[//]: # (pip install pandas scikit-learn nltk matplotlib seaborn)